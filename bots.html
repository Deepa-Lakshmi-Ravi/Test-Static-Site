<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - NextAdmin</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/bot.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="main-container">
        <!-- Sidebar Component -->
        <div id="sidebar-container"></div>

        <div class="content-wrapper">
            <!-- Header Component -->
            <div id="header-container"></div>
    <!-- Chatbot Container -->
    <div class="chatbot-container">
        <!-- Chatbot Windows Container -->
        <div class="chatbot-window-container">
            <!-- Support Chatbot -->
            <div class="chatbot-window" id="support-chatbot">
                <div class="chat-header">
                    <span>Support Bot</span>
                    <button class="close-btn">×</button>
                </div>
                <div class="chat-messages">
                    <div class="message bot-message">Hello! I'm your support assistant. How can I help you today?</div>
                    <div class="typing-indicator">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
                <div class="chat-input">
                    <input type="text" placeholder="Ask a support question...">
                    <button>Send</button>
                </div>
            </div>

            <!-- Sales Chatbot -->
            <div class="chatbot-window" id="sales-chatbot">
                <div class="chat-header">
                    <span>Sales Bot</span>
                    <button class="close-btn">×</button>
                </div>
                <div class="chat-messages">
                    <div class="message bot-message">Hi there! I can help you with product information and purchases. What are you looking for?</div>
                    <div class="typing-indicator">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
                <div class="chat-input">
                    <input type="text" placeholder="Ask about products...">
                    <button>Send</button>
                </div>
            </div>

            <!-- Tech Chatbot -->
            <div class="chatbot-window" id="tech-chatbot">
                <div class="chat-header">
                    <span>Tech Bot</span>
                    <button class="close-btn">×</button>
                </div>
                <div class="chat-messages">
                    <div class="message bot-message">Hello! I specialize in technical questions. What issue are you facing?</div>
                    <div class="typing-indicator">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
                <div class="chat-input">
                    <input type="text" placeholder="Describe your technical issue...">
                    <button>Send</button>
                </div>
            </div>

            <!-- General Chatbot -->
            <div class="chatbot-window" id="general-chatbot">
                <div class="chat-header">
                    <span>General Bot</span>
                    <button class="close-btn">×</button>
                </div>
                <div class="chat-messages">
                    <div class="message bot-message">Hi! I can answer general questions. What would you like to know?</div>
                    <div class="typing-indicator">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
                <div class="chat-input">
                    <input type="text" placeholder="Ask a general question...">
                    <button>Send</button>
                </div>
            </div>
        </div>

        <!-- Chatbot Buttons Container -->
        <div class="chatbot-buttons-container">
            <!-- Support Button -->
            <button id="support-btn" class="chatbot-btn" data-chatbot="support">
                <span class="chatbot-label">Support Bot</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
            </button>

            <!-- Sales Button -->
            <button id="sales-btn" class="chatbot-btn" data-chatbot="sales">
                <span class="chatbot-label">Sales Bot</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
            </button>

            <!-- Tech Button -->
            <button id="tech-btn" class="chatbot-btn" data-chatbot="tech">
                <span class="chatbot-label">Tech Bot</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><path d="M3.27 6.96L12 12.01l8.73-5.05M12 22.08V12"/></svg>
            </button>

            <!-- General Button -->
            <button id="general-btn" class="chatbot-btn" data-chatbot="general">
                <span class="chatbot-label">General Bot</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/></svg>
            </button>

            <!-- Add New Chatbot Button -->
            <button class="add-chatbot-btn" id="add-chatbot-btn">+</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Chatbot toggle functionality
            const chatbotButtons = document.querySelectorAll('.chatbot-btn');
            const chatbotWindows = document.querySelectorAll('.chatbot-window');
            const closeButtons = document.querySelectorAll('.close-btn');
            const addChatbotBtn = document.getElementById('add-chatbot-btn');
            
            // Show/hide chatbots when buttons are clicked
            chatbotButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const chatbotType = this.getAttribute('data-chatbot');
                    
                    // Update button states
                    chatbotButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Update window visibility
                    chatbotWindows.forEach(window => {
                        window.classList.remove('active');
                    });
                    
                    const targetWindow = document.getElementById(`${chatbotType}-chatbot`);
                    targetWindow.classList.add('active');
                });
            });
            
            // Close button functionality
            closeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const chatWindow = this.closest('.chatbot-window');
                    chatWindow.classList.remove('active');
                    
                    // Reset all buttons to inactive
                    chatbotButtons.forEach(btn => btn.classList.remove('active'));
                });
            });
            
            // Basic chat functionality for all chatbots
            document.querySelectorAll('.chat-input button').forEach(button => {
                button.addEventListener('click', sendMessage);
            });
            
            document.querySelectorAll('.chat-input input').forEach(input => {
                input.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        sendMessage.call(this.nextElementSibling);
                    }
                });
            });
            
            // Add new chatbot functionality
            addChatbotBtn.addEventListener('click', function() {
                alert('New chatbot can be added here! In a real implementation, this would open a dialog to configure a new chatbot.');
            });
            
            function sendMessage() {
                const input = this.previousElementSibling;
                const message = input.value.trim();
                const messagesContainer = this.closest('.chatbot-window').querySelector('.chat-messages');
                const typingIndicator = messagesContainer.querySelector('.typing-indicator');
                
                if (message) {
                    // Add user message
                    const userMessage = document.createElement('div');
                    userMessage.className = 'message user-message';
                    userMessage.textContent = message;
                    messagesContainer.appendChild(userMessage);
                    
                    // Clear input
                    input.value = '';
                    
                    // Show typing indicator
                    typingIndicator.style.display = 'flex';
                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                    
                    // Simulate bot response after delay
                    setTimeout(() => {
                        typingIndicator.style.display = 'none';
                        
                        const botResponse = document.createElement('div');
                        botResponse.className = 'message bot-message';
                        
                        // Different responses for different chatbots
                        const chatbotId = this.closest('.chatbot-window').id;
                        
                        if (chatbotId === 'support-chatbot') {
                            botResponse.textContent = getSupportResponse(message);
                        } 
                        else if (chatbotId === 'sales-chatbot') {
                            botResponse.textContent = getSalesResponse(message);
                        }
                        else if (chatbotId === 'tech-chatbot') {
                            botResponse.textContent = getTechResponse(message);
                        }
                        else {
                            botResponse.textContent = getGeneralResponse(message);
                        }
                        
                        messagesContainer.appendChild(botResponse);
                        messagesContainer.scrollTop = messagesContainer.scrollHeight;
                    }, 1500);
                }
            }
            
            // Simple response generators
            function getSupportResponse(message) {
                const responses = [
                    "I understand you're having an issue. Let me help with that.",
                    "For that issue, please try restarting the application first.",
                    "Our support team can assist with this. Would you like me to create a ticket?",
                    "I found a solution in our knowledge base. Here's what you can try..."
                ];
                return responses[Math.floor(Math.random() * responses.length)];
            }
            
            function getSalesResponse(message) {
                const responses = [
                    "That product is currently available with a 10% discount!",
                    "Our premium package would be perfect for your needs.",
                    "I can connect you with a sales representative for more details.",
                    "That item is in stock and ready to ship today."
                ];
                return responses[Math.floor(Math.random() * responses.length)];
            }
            
            function getTechResponse(message) {
                const responses = [
                    "This is a known issue that was fixed in version 2.3.",
                    "Please check your network connection and try again.",
                    "The API documentation covers this use case in section 4.2.",
                    "Try clearing your cache and cookies, then restart the browser."
                ];
                return responses[Math.floor(Math.random() * responses.length)];
            }
            
            function getGeneralResponse(message) {
                const responses = [
                    "Thanks for your question! Here's some general information.",
                    "I can help direct you to the right department for that.",
                    "Our business hours are Monday-Friday, 9am-5pm.",
                    "You can find that information on our About page."
                ];
                return responses[Math.floor(Math.random() * responses.length)];
            }
        });
    </script>


    <script src="js/common.js"></script>
    <script src="js/dashboard.js"></script>
</body>
</html>